# Home Budget Core

> **Шпаргалка:**
> 1.  Установка: ./setup.ps1`n> 2.  Деплой: ./launchpad/deploy.ps1 -Mode New`n> 3.  Обновление: ./launchpad/deploy.ps1 -Mode Sync`n> 4.  [Полная инструкция](#-быстрый-старт)

Универсальная система учёта личных финансов на основе журнала событий.

## Архитектура
- **Ядро:** Лист 'Events' (журнал всех операций).
- **Модель:** event sourcing (состояние вычисляется из истории событий).
- **Цель:** Расчёт свободных денег на текущий момент.

## Сущности
- **Event:** id, timestamp, type, amount, account_id, reference_id, target_id, category, description, status.

## Текущий статус
- [x] Инициализация проекта
- [x] Создание Google Таблицы
- [x] Создание листа Events
- [ ] Добавление начальных данных
- [ ] Создание дашборда
## 🚀 Быстрый старт

### Установка на новую машину
1.  Убедитесь, что установлены:
    -   Git
    -   Node.js LTS
    -   PowerShell 5+
2.  Скачайте и запустите установочный скрипт:
    ```powershell
    # Скопируйте setup.ps1 из репозитория или запустите:
    .\setup.ps1
    ```
    Скрипт:
    -   Проверит/установит Clasp.
    -   Клонирует репозиторий.
    -   Настроит конфигурацию (запросит ID таблицы, откроет браузер для выбора аккаунта Google).

### Первый деплой
1.  Перейдите в папку проекта:
    ```powershell
    cd "C:\Users\user\Documents\GitHub\home-budget"
    ```
2.  Запустите полный деплой:
    ```powershell
    .\launchpad\deploy.ps1 -Mode New
    ```
3.  **В Google Таблице:**
    -   Обновите страницу (F5).
    -   В меню выберите: 📊 Домашняя бухгалтерия → Создать лист Events.
    -   Затем: 📊 Домашняя бухгалтерия → Добавить начальные данные.

### Повседневная работа
-   **Редактирование скриптов:** Изменяйте файлы в папке `scripts/`.
-   **Деплой изменений:**
    ```powershell
    .\launchpad\deploy.ps1 -Mode Sync
    ```
-   **Проверка:** Обновите таблицу — изменения применятся.

## 📂 Структура проекта
- home-budget/
  - docs/               # Документация
  - scripts/            # Код Google Apps Script
  - templates/          # Конфигурация (config.json)
  - launchpad/          # Пусковые блоки
    - deploy.ps1       # Деплой (Check/Sync/New)
    - setup.ps1        # Установка с нуля
  - .gitignore
  - README.md

## 🔧 Команды управления
| Действие | Команда |
|----------|---------|
| Проверить состояние | `.\launchpad\deploy.ps1 -Mode Check` |
| Обновить скрипт | `.\launchpad\deploy.ps1 -Mode Sync` |
| Полная пересборка | `.\launchpad\deploy.ps1 -Mode New` |
| Установка на новой машине | `.\setup.ps1` |

## 📊 Что дальше?
-   Создание дашборда для расчёта "Свободно сейчас".
-   Автоматизация создания листа Events через скрипт.
-   Добавление семейного режима (несколько профилей).

